<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cart - E-Market</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<header>
  <div class="logo">E-Market</div>
  <nav>
    <button onclick="location.href='index.html'">Home</button>
  </nav>
</header>

<h2 class="section-title">Shopping Cart</h2>
<div id="cart-items" class="product-grid"></div>

<div class="cart-total">
  <h3>Total: $<span id="total">0</span></h3>
  <button onclick="checkout()">Proceed to Checkout</button>
</div>

<script src="script.js"></script>
<script>
// Load cart
let cart = JSON.parse(localStorage.getItem("cart")) || [];
function renderCart(){
    let html = "";
    let total = 0;
    cart.forEach((p, index) => {
        total += p.price;
        html += `
        <div class="card">
            <img src="${p.image}" alt="${p.name}">
            <h3>${p.name}</h3>
            <p>$${p.price}</p>
            <button onclick="removeItem(${index})">Remove</button>
        </div>`;
    });
    document.getElementById("cart-items").innerHTML = html;
    document.getElementById("total").innerText = total.toFixed(2);
}
renderCart();

function removeItem(index){
    cart.splice(index,1);
    localStorage.setItem("cart", JSON.stringify(cart));
    renderCart();
}

function checkout(){
    if(cart.length == 0){
        alert("Your cart is empty!");
        return;
    }
    window.location.href = "checkout.html";
}
</script>
</body>
</html>
